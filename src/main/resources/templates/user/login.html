<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>M.S.P | 로그인</title>
	<link rel="stylesheet" th:href="@{/css/user/login.css}">
	<link rel="stylesheet" th:href="@{/css/common.css}">
</head>


<body>
	<div class="container">
		<div class="login_box">
			<div>
				<h1>
					<a th:href="@{/index}"><img th:src="@{/images/nocolorlogo.png}" alt=""></a>
				</h1>
			</div>
            <div class="form_box">
				<form action="/login" method="post" onsubmit="return frmCheck()">
                    <ul>
                        <li>
                            <input type="text" name="userId" class="userid" placeholder="아이디">
                        </li>
                        <li>
                            <input type="password" name="userPasswd" class="passwd" placeholder="비밀번호">
                        </li>
						<p> <strong> [[${message}]] </strong> </p>
                        <li>
                            <input type="submit" name="btn1" class="btn1 noto" value="로그인">
                        </li>
                    </ul>
                </form>
		    </div>

			<div class="find_wrap">
				<ul>
					<li>
						<a href="" class="ko">아이디 찾기 </a>
					</li>
					<span> / </span>
					<li>
						<a href="" class="ko"> 비밀번호 찾기</a>
					</li>
				</ul>
				<ul>
					<li>
						<a th:href="@{/user/register}" class="ko">회원가입</a>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<!-- 모달 영역 -->
	<div id="combinedModal" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">아이디 및 비밀번호 찾기</h5>
				<span class="close" onclick="closeModal()">&times;</span>
			</div>
			<div class="modal-body">
				<!-- 아이디 찾기 페이지 -->
				<div id="page1" class="page current-page">
					<!-- 아이디 찾기 폼 -->
					<form>
						<div class="form-group">
							<label for="username">아이디:</label>
							<input type="text" class="form-control" id="username" placeholder="아이디를 입력하세요">
						</div>
						<button type="button" class="btn btn-primary" onclick="showPage('page2')">비밀번호찾기</button>
					</form>
				</div>

				<!-- 비밀번호 찾기 페이지 -->
				<div id="page2" class="page">
					<!-- 비밀번호 찾기 폼 -->
					<form>
						<div class="form-group">
							<label for="password">비밀번호:</label>
							<input type="password" class="form-control" id="password" placeholder="비밀번호를 입력하세요">
						</div>
						<button type="button" class="btn btn-secondary" onclick="showPage('page1')">아이디찾기</button>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- 모달 열기 버튼 -->
	<button class="btn" onclick="openModal()">모달 열기</button>

	<script>
		// 모달 열기
		function openModal() {
			document.getElementById("combinedModal").style.display = "block";
		}

		// 모달 닫기
		function closeModal() {
			document.getElementById("combinedModal").style.display = "none";
		}

		// 페이지 전환
		function showPage(pageId) {
			// 모든 페이지 숨기기
			document.querySelectorAll('.page').forEach(page => {
				page.classList.remove('current-page');
			});
			// 선택된 페이지 보이기
			document.getElementById(pageId).classList.add('current-page');
		}
	</script>

	<script>
		function frmCheck(){
			let userid = document.querySelector("input[name=userId]");
			let passwd = document.querySelector("input[name=userPasswd]");

			if(userid.value == ""){
				alert("아이디를 입력하세요.");
				userid.focus();
				return false;
			}

			if(passwd.value == ""){
				alert("비밀번호를 입력하세요.");
				passwd.focus();
				return false;
			}
		}
	</script>
</body>
</html>